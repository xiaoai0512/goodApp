(function(t){function e(e){for(var s,o,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,r=1;r<i.length;r++){var c=i[r];0!==a[c]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=i[0]))}return t}var s={},a={app:0},n=[];function o(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=s,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(i,s,function(e){return t[e]}.bind(null,s));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0cbf":function(t,e,i){"use strict";i("7dbb")},"0e83":function(t,e,i){},"0eca":function(t,e,i){},"0f11":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAJM0lEQVR4Xu2d2W4cRRSGu7wiMIvYIswiO9PTbU+QARkQiwCHRWxiFXkLnizJO5Cn4CKe69xwmZtI8XSjQmPhWONxd52q7uPTX25Tdeqc769P3WPHsSuKos74AwEILCTgEISbAYGLCSAItwMCSwggCNcDAgjCHYBAGAGeIGHc2DUQAggykKAZM4wAgoRxY9dACCDIQIJmzDACCBLGjV0DIYAgAwmaMcMIIEgYN3YNhACCDCRoxgwjgCBh3Ng1EAIIMpCgGTOMAIKEcWPXQAiIBanr+t5AWDHmFSTgnDuStB1FkOPj45uSJtgLgRQExuPxXwiSgiw1TRBAEBMxMkQqAgiSiix1TRBAEBMxMkQqAgiSiix1TRBAEBMxMkQqAgiSiix1TRBAEBMxMkQqAgiSiix1TRBAEBMxMkQqAgiSiix1TRBAEBMxMkQqAgiSiix1TRBAEBMxMkQqAgiSiix1TRBQI4gJmgxhkkDvPw9ikipDQWBOQPwThZCEgGUCCGI5XWYTE0AQMUIKWCaAIJbTZTYxAQQRI6SAZQIIYjldZhMTQBAxQgpYJoAgltNlNjEBBBEjpIBlAghiOV1mExNAEDFCClgmgCCW02U2MQEEESOkgGUCCGI5XWYTE0AQMUIKWCYgFsT/hil+gY7lK3J1Z1PzE4UIcnUvkeXOEcRyuswmJoAgYoQUsEwAQSyny2xiAggiRkgBywQQxHK6zCYmgCBihBSwTABBLKfLbGICCCJGSAHLBBDEcrrMJiaAIGKEFLBMAEEsp8tsYgIIIkZIAcsEEMRyuswmJoAgYoQUsEwAQSyny2xiAggiRkgBywQQxHK6zCYmgCBihBSwTABBLKfLbGICCCJGSAHLBBDEcrrMJiaAIGKEFLBMAEEsp8tsYgIIIkZIAcsEEMRyuswmJoAgYoQUsEwAQSyny2xiAggiRkgBywQQRFm6eZ5PptPp38raGmw7CKIo+vF4vF/X9bXpdHpPUVuDbgVBlMRfFMVelmV3q6r6E0GUhJJlGYIoyKIsy7KqqrvOuberqrqJIApCmbeAID1nsb+/P57NZnezLDvwrSBIz4GcOx5BesxjNBrlq6urXo53TttAkB4DWXA0gvSUR57no5WVFS/Hu2dbQJCeArngWATpIY/xeHzdOefleO/88QjSQyBLjkSQjvMoy3K3qqo7zrnDRUcjSMeBXHIcgnSYx97e3o6XI8uy9y86FkE6DKTBUQjSAFKMJZPJ5K2TkxP/WvXBsnoIEoN2vBoIEo/lhZVGo9Gb869WfXjZcQhyGaFu/x5BEvPO8/yNlZUV/1r1UZOjEKQJpe7WIEhC1kVRvO6cu1PX9cdNj0GQpqS6WYcgiTiXZbld17V/cnzS5ggEaUMr/VoEScB4f3//tdls5uX4tG15BGlLLO16BInMd3d399r6+rqX47OQ0ggSQi3dHgSJyHY0Gr26urrq5fg8tCyChJJLsw9BInHN8/wVL0dd119ISiKIhF78vQgSgWlRFC/7D+TOuSNpOQSREoy7H0GEPPf29l6qqup2lmVfCkv9tx1BYlCMVwNBBCxv3Ljx4uPHj70cXwnKPLEVQWKRjFMHQQI57uzsvLCxseE/kH8dWGLhNgSJSVNeC0ECGF6/fv35tbU1L8c3AduXbkGQ2ERl9RCkJb88z59zzt12zn3bcmuj5QjSCFNnixCkBeqyLJ+t69p/5viuxbZWSxGkFa7kixGkIeLJZLJ1cnLi5fi+4ZagZQgShC3ZJgRpgPbg4OCZR48eeTl+aLBctARBRPiib0aQS5Bub28/vbW15eX4MTr9BQXruua/HZ1zOT4+vtkF82VnIMgSOjs7O09tbm7eruv6p76DGuL59+/fd33PjSAXJJDn+eb8q1U/9x3SUM9HkHny/rVCw+P09CJOJpON+QfyX4Z6OTXMjSAKBTk8PFx/+PCh/8zxq4ZLMuQeEESZIEdHR2sPHjzwcvw25IupZXYE0SXIalEUXo7ftVyQofeBIHoEcWVZ+q9W/TH0S6lpfgRRIsj8yXFL0+WglyxDECWClGV5a/5vrLiXigggiBJBfBtIosiMeSsIokgQJEGQRQT4Tvo5KjxJ9IjCE0TZE+T0aiCJDkkQRKkgvG4hyCkBXrGW3AWeJP2KwhNE8ROE161+5fCnI8gVEKTr1y1+orB/Mc92wCtWwzy6et1CkIaBdLQMQVqA7kISBGkRSAdLEaQl5NSSIEjLQBIvR5AAwCklQZCAQBJuQZBAuKkkQZDAQBJtQxAB2BSSIIggkARbEUQINbYkCCIMJPJ2BIkANKYkCBIhkIglECQSzFiSIEikQCKVQZBIIGN9xx1BIgYSoRSCRIB4toT0SYIgkQMRlkMQIcBF2yWSIEiCQAQlEUQAb9nWUEkQJFEggWURJBBck20hkiBIE7LdrUGQxKzbSoIgiQNpWR5BWgILWd5GEgQJIZxuD4KkY/tE5aaSIEhHgTQ8BkEagoqxrIkkCBKDdLwaCBKPZaNKl0mCII0wdrYIQTpD/f9ByyRBkB4CWXIkgvSUx0WSIEhPgVxwLIL0mMciSRCkx0AWHI0gPedxXhIE6TmQc8cjiII8zkqCIAoCOdMCgijJ41QSBFESyLwNBFGUh5dkNpv9M51O7ylqa9CtIIiy+PM8P0IQPaEgiJ4s6EQhAQRRGAot6SGAIHqyoBOFBBBEYSi0pIcAgujJgk4UEkAQhaHQkh4CCKInCzpRSABBFIZCS3oIIIieLOhEIQEEURgKLekhgCB6sqAThQQQRGEotKSHAILoyYJOFBJAEIWh0JIeAgiiJws6UUgAQRSGQkt6CCCInizoRCEBBFEYCi3pIYAgerKgE4UEEERhKLSkhwCC6MmCThQSQBCFodCSHgIIoicLOlFIAEEUhkJLegggiJ4s6EQhAQRRGAot6SGAIHqyoBOFBBBEYSi0pIcAgujJgk4UEkAQhaHQkh4CagTRg4ROIPAkAefckYSJK4qilhRgLwQsE0AQy+kym5gAgogRUsAyAQSxnC6ziQkgiBghBSwTQBDL6TKbmACCiBFSwDIBBLGcLrOJCSCIGCEFLBNAEMvpMpuYAIKIEVLAMgEEsZwus4kJIIgYIQUsE0AQy+kym5gAgogRUsAyAQSxnC6ziQn8C732dombIUhFAAAAAElFTkSuQmCC"},1508:function(t,e){t.exports="data:image/png;base64,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"},1512:function(t,e,i){"use strict";i("41ef")},1858:function(t,e,i){"use strict";i("ea4d")},"1af3":function(t,e,i){},"29be":function(t,e,i){},"41ef":function(t,e,i){},4504:function(t,e,i){},"451e":function(t,e,i){},"4e0d":function(t,e,i){"use strict";i("451e")},5600:function(t,e,i){"use strict";i("f8ed")},"56d7":function(t,e,i){"use strict";i.r(e);i("f1dc");var s=i("6e47"),a=(i("ac1e"),i("543e")),n=(i("c3a6"),i("ad06")),o=(i("38d5"),i("772a")),r=(i("f06a"),i("20fb")),c=(i("5246"),i("6b41")),l=(i("0ec5"),i("21ab")),u=(i("3df5"),i("2830")),d=(i("be7f"),i("565f")),h=(i("e17f"),i("2241")),p=(i("bda7"),i("5e46")),f=(i("da3c"),i("0b33")),g=(i("66b9"),i("b650")),m=(i("e7e5"),i("d399")),v=(i("d1cf"),i("ee83")),C=(i("8a58"),i("e41f")),y=(i("e260"),i("e6cf"),i("cca6"),i("a79d"),i("2b0e")),I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},w=[],E={name:"App"},A=E,k=i("2877"),b=Object(k["a"])(A,I,w,!1,null,null,null),B=b.exports,x=i("8c4f"),_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index-body"},[i("div",{staticStyle:{"text-align":"center",margin:"-0.6em 0 0.6em 0"}},[t._v(t._s(t.userName)),i("span",{staticStyle:{color:"dimgray"}},[t._v(" ["+t._s(t.userId)+"]")])]),i("div",{staticStyle:{"text-align":"center","line-height":"1em","margin-bottom":"1.4em"}},[i("span",{on:{click:t.showDepts}},[t._v(t._s(t.deptName))])]),i("van-grid",{attrs:{gutter:10,"column-num":2}},t._l(t.linkList,(function(t,e){return i("van-grid-item",{key:e,attrs:{icon:t.icon,text:t.text,to:t.route}})})),1),i("van-popup",{style:{height:"28%",width:"90%"},attrs:{round:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("van-grid",{staticClass:"appDiv"},t._l(t.depts,(function(e,s){return i("van-grid-item",{key:s,staticClass:"appItem",attrs:{text:e.deptName},on:{click:function(i){return t.resetDept(e.deptCode)}}})})),1)],1)],1)},S=[],Q=(i("4160"),i("159b"),{data:function(){return{show:!1,userJson:{},depts:[],userId:"",userName:"",deptCode:"",deptName:"",linkSetting:[{text:"月度申请",icon:i("1508"),route:{path:"/items-for",query:{flowType:"0",title:"月度申请"}}},{text:"零星申请",icon:i("a077"),route:{path:"/items-for",query:{flowType:"1",title:"零星申请"}}},{text:"新员工申请",icon:i("a072"),route:{path:"/items-for",query:{flowType:"2",title:"新员工申请"}}},{text:"礼品采购",icon:i("d7a8"),route:{path:"/items-for",query:{flowType:"3",title:"礼品采购"}}},{text:"礼品领用",icon:i("eafe"),route:{path:"/items-for",query:{flowType:"4",title:"礼品领用"}}},{text:"产品采购",icon:i("d7a8"),route:{path:"/items-for",query:{flowType:"5",title:"产品采购"}}}],linkList:[{text:"我的申请",icon:i("f388"),route:{path:"/my-apply",query:{text:"我的申请",title:"我的申请"}}},{text:"待办/已办",icon:i("c457"),route:{path:"/dealt-done",query:{text:"待办/已办",title:"待办/已办"}}},{text:"退出登录",icon:i("0f11"),route:{path:"/logout",query:{}}}],linkDefaultList:[{text:"我的申请",icon:i("f388"),route:{path:"/my-apply",query:{text:"我的申请",title:"我的申请"}}},{text:"待办/已办",icon:i("c457"),route:{path:"/dealt-done",query:{text:"待办/已办",title:"待办/已办"}}},{text:"退出登录",icon:i("0f11"),route:{path:"/logout",query:{}}}]}},components:{},activated:function(){},mounted:function(){this.getUserLimit(),this.getUserInfo()},methods:{resetDept:function(t){var e=this,i=JSON.parse(window.sessionStorage.getItem("USER-INFO"));i.depId!=t?(i.depId=t,window.sessionStorage.setItem("USER-INFO",JSON.stringify(i)),window.sessionStorage.setItem("USER-DEPT",t),this.getUserInfo(),this.$http("/api/resetDetp",{deptCode:t}).then((function(t){if("000000"==t.rscode){window.sessionStorage.setItem("USER-Limit",null);var i=Object.assign([],e.linkDefaultList);e.linkList=i,e.getUserLimit(),e.show=!1}}))):this.show=!1},showDepts:function(){this.show=!0},getUserInfo:function(){var t=this,e=JSON.parse(window.sessionStorage.getItem("USER-INFO"));null==e?this.$http("/api/userInfo",{}).then((function(e){"000000"==e.rscode&&(t.userId=e.userId,t.userName=e.userName,t.deptCode=e.depId,t.depts=e.rows,t.depts.forEach((function(e){t.deptCode==e.deptCode&&(t.deptName=e.deptLinkName)})),window.sessionStorage.setItem("USER-INFO",JSON.stringify(e)),window.sessionStorage.setItem("USER-DEPT",e.depId),window.sessionStorage.setItem("USER-EDIT",e.editLimit))})):(this.userId=e.userId,this.userName=e.userName,this.deptCode=e.depId,this.depts=e.rows,this.depts.forEach((function(e){t.deptCode==e.deptCode&&(t.deptName=e.deptLinkName)})))},getUserLimit:function(){var t=this,e=JSON.parse(window.sessionStorage.getItem("USER-Limit"));null==e?this.$http("/api/flowUserLimit",{}).then((function(e){"000000"==e.rscode&&(window.sessionStorage.setItem("USER-Limit",JSON.stringify(e.rows)),e.rows.forEach((function(e){var i=t.linkSetting[e.flowType];t.linkList.unshift(i)})))})):e.forEach((function(e){var i=t.linkSetting[e.flowType];t.linkList.unshift(i)}))}}}),T=Q,L=(i("6ff9"),Object(k["a"])(T,_,S,!1,null,"1400af5f",null)),N=L.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{"left-text":"返回","right-text":"首页",title:t.title,"left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),i("div",{staticClass:"goods-items-add"},[t._m(0),i("div",{staticClass:"item",staticStyle:{"margin-top":"5px"},on:{click:t.dateTime}},[i("div",{staticClass:"item-order"},[t._v(" 采购时间 ")]),i("div",{staticClass:"order-text"},[i("span",[t._v(t._s(t.buytime))]),i("span",{staticClass:"icon-arrow"})])]),i("div",{staticClass:"goods-content"},[i("div",{staticClass:"title"},[t._v("负责人")]),i("div",{staticClass:"ava"},[i("div",{staticClass:"ava-items"},[i("img",{attrs:{src:t.avatarUrl}})]),i("div",{staticClass:"ava-name"},[t._v(" "+t._s(t.userName)+" ")])])]),i("div",{staticClass:"item",staticStyle:{"margin-top":"5px"}},[i("div",{staticClass:"item-order"},[t._v(" 采购明细 ")]),i("div",{staticClass:"order-text"},[i("span",{staticClass:"add",on:{click:t.addBtn}},[t._v("+添加")])])]),t.list&&0!==t.list.length?i("div",{staticClass:"table"},[t._m(1),t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"mumber",staticStyle:{flex:"2"}},[t._v(t._s(s+1))]),i("div",{staticClass:"name"},[t._v(t._s(e.goodsName))]),i("div",{staticClass:"name"},[t._v(t._s(e.goodsPrice))]),i("div",{staticClass:"specifications",staticStyle:{flex:"7"}},[i("van-stepper",{attrs:{min:"0","button-size":"19px","async-change":""},on:{change:t.countChange},model:{value:e.goodsNum,callback:function(i){t.$set(e,"goodsNum",t._n(i))},expression:"item.goodsNum"}})],1)])}))],2):t._e(),i("div",{staticClass:"item",staticStyle:{"margin-top":"5px"}},[i("div",{staticClass:"item-order"},[t._v(" 采购金额 ")]),i("div",{staticClass:"order-text"},[t._v(" "+t._s(t.countAmount)+" ")])]),i("div",{staticStyle:{height:"60px"}}),i("div",{staticClass:"footer",on:{click:t.submit}},[t._v(" 提交 ")]),i("van-popup",{style:{height:"50%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",[i("van-datetime-picker",{attrs:{type:"date",title:"选择年月日","min-date":t.minDate,"max-date":t.maxDate,formatter:t.formatter},on:{confirm:t.confirmTime,cancel:t.cancelTime},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1)])],1),i("van-overlay",{attrs:{show:t.showLay,"z-index":"10000"},on:{click:function(e){t.show=!1}}},[i("div",{staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[i("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1)])],1)},R=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item"},[i("div",{staticClass:"item-order"},[t._v(" 申请单号 ")]),i("div",{staticClass:"order-text"},[t._v(" 自动生成 ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"name",staticStyle:{flex:"2"}},[t._v("序号")]),i("div",{staticClass:"name"},[t._v("产品名称")]),i("div",{staticClass:"name"},[t._v("单价")]),i("div",{staticClass:"name",staticStyle:{flex:"7"}},[t._v("数量")])])}],U=(i("d81d"),i("a434"),{data:function(){return{list:[],minDate:new Date(2020,0,1),maxDate:new Date(2025,10,1),currentDate:new Date,show:!1,buytime:"",tmonth:0,tmonth_str:"",tday:0,tday_str:"",flowType:this.$route.query.flowType,countAmount:0,avatarUrl:"",userName:"",title:this.$route.query.title,showLay:!1,timer:null}},created:function(){var t=this,e=JSON.parse(window.sessionStorage.getItem("DICT-FlowType")),i="";e.forEach((function(e){t.flowType!=e.dictValue||(i=e.dictName)})),this.title=i,this.buytime=this.$route.query.buytime,this.getList(),this.getCurDate()},filters:{filterType:function(t){var e=JSON.parse(window.sessionStorage.getItem("DICT-GoodsUnit")),i="";return e.forEach((function(e){t!=e.dictValue||(i=e.dictName)})),i},filtersNumber:function(t){}},methods:{getCurDate:function(){this.tmonth=this.currentDate.getMonth()+1,this.tmonth<10?this.tmonth_str="0"+this.tmonth:this.tmonth_str=this.tmonth,this.tday=this.currentDate.getDate(),this.tday<10?this.tday_str="0"+this.tday:this.tday_str=this.tday,this.buytime=this.currentDate.getFullYear()+"-"+this.tmonth_str+"-"+this.tday_str},getList:function(){var t=this,e=JSON.parse(window.sessionStorage.getItem("SELECT-ITEM"));this.list=[];var i=this.$route.query.checkList;if("string"===typeof i){var s=[],a=i=JSON.parse(i);if(a&&a.length>0){if(e&&e.length>0){var n=[];e.map((function(t){var e=!1;a.map((function(i){t.id==i.id&&(e=!0)})),e||n.push(t)})),n&&n.length>0&&n.map((function(t){s.push(t)}))}a.map((function(t){s.push(t)})),s.map((function(e){e.goodsNum||(e.goodsNum=1),t.countAmount=t.countAmount+e.goodsPrice*e.goodsNum}))}this.list=s||[],window.sessionStorage.setItem("SELECT-ITEM",JSON.stringify(this.list))}this.getApprovedBy()},getApprovedBy:function(){var t=this,e={deptCode:window.sessionStorage.getItem("USER-DEPT"),flowType:this.flowType};this.$http("/api/nextExaminer",e).then((function(e){t.avatarUrl=e.avatarUrl,t.userName=e.userName}))},addBtn:function(){this.$router.push({path:"/select-Items",query:{flowType:this.flowType,buytime:this.buytime}})},countChange:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){var e=0;t.list.map((function(i,s){e=(parseInt(100*e)+parseInt(100*i.goodsPrice*i.goodsNum))/100,0===i.goodsNum&&t.list.splice(s,1)})),window.sessionStorage.setItem("SELECT-ITEM",JSON.stringify(t.list)),t.countAmount=e}),0)},submit:function(){var t=this;if("undefined"!=typeof this.buytime&&""!=this.buytime)if("undefined"!=typeof this.list&&""!=this.list){var e={applyUseDate:this.buytime,flowType:this.flowType,goods:this.list},i="",s="",a=JSON.parse(window.sessionStorage.getItem("USER-Limit"));a.forEach((function(e){var a=e.flowType;a==t.flowType&&(i=e.flowCode,s=e.deptCode)})),e.flowCode=i,e.deptCode=s,this.showLay=!0,this.$http("/api/appInfoAdd",e).then((function(e){"000000"==e.rscode&&(t.$toast.success({message:"申请成功"}),t.$router.push({path:"/index"})),t.showLay=!1}),(function(e){t.showLay=!1}))}else m["a"].fail({message:"申请产品不能为空"});else m["a"].fail({message:"日期不能为空"})},dateTime:function(){this.show=!0},confirmTime:function(){this.tmonth=this.currentDate.getMonth()+1,this.tmonth<10?this.tmonth_str="0"+this.tmonth:this.tmonth_str=this.tmonth,this.tday=this.currentDate.getDate(),this.tday<10?this.tday_str="0"+this.tday:this.tday_str=this.tday,this.buytime=this.currentDate.getFullYear()+"-"+this.tmonth_str+"-"+this.tday_str,this.show=!1},cancelTime:function(){this.show=!1},formatter:function(t,e){return"year"===t?"".concat(e,"年"):"month"===t?"".concat(e,"月"):"day"===t?"".concat(e,"日"):(console.log(e),e)},onClickLeft:function(){this.$router.back(-1)},onClickRight:function(){this.$router.push({path:"/index"})}},destroyed:function(){this.timer&&clearTimeout(this.timer)}}),O=U,G=(i("e93d"),Object(k["a"])(O,D,R,!1,null,"5e9364fc",null)),J=G.exports,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-content"},[i("div",[i("van-nav-bar",{attrs:{"left-text":"返回","right-text":"首页",title:"添加","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}})],1),i("div",{staticClass:"table-list"},[i("ul",{staticClass:"table-tr"},[i("li",{staticClass:"table-td",staticStyle:{"max-width":"6%"}},[t._v("序")]),i("li",{staticClass:"table-td",staticStyle:{"min-width":"20%","text-align":"left"}},[t._v("名称")]),i("li",{staticClass:"table-td"},[t._v("类别")]),i("li",{staticClass:"table-td"},[t._v("规格")]),i("li",{staticClass:"table-td"},[t._v("单价")]),i("li",{staticClass:"table-td",staticStyle:{"text-align":"left"},on:{click:t.checkAll}},[i("span",{staticClass:"active-color extend-click"},[t._v("全选")])])]),i("checkbox-group",{ref:"checkboxGroup",model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(t.list,(function(e,s){return i("ul",{key:"cc"+s,staticClass:"table-tr"},[i("li",{staticClass:"table-td",staticStyle:{"max-width":"6%"}},[t._v(t._s(s+1))]),i("li",{staticClass:"table-td",staticStyle:{"min-width":"20%","text-align":"left"}},[t._v(t._s(e.goodsName))]),i("li",{staticClass:"table-td"},[t._v(t._s(t._f("filterType")(e.goodsType)))]),i("li",{staticClass:"table-td"},[t._v(t._s(t._f("filterType2")(e.goodsUnit)))]),i("li",{staticClass:"table-td"},[t._v(t._s(e.goodsPrice))]),i("li",{staticClass:"table-td"},[i("checkbox",{attrs:{name:e}})],1)])})),0)],1),i("div",{staticStyle:{height:"60px"}}),i("div",{staticClass:"footer"},[i("span",{staticClass:"text"},[t._v(" 已选"+t._s(t.checkList.length)+"件 ")]),i("div",{staticClass:"btn"},[i("div",{staticClass:"can-button",on:{click:t.filterBtn}},[t._v(" 筛选 ")]),i("div",{staticClass:"can-button",on:{click:t.cancelBtn}},[t._v(" 重选 ")]),i("div",{staticClass:"con-button",on:{click:t.sureGoodBtn}},[t._v(" 确定 ")])])]),i("div",{class:{displayov:!t.show}},[i("van-popup",{style:{height:"30%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",{staticClass:"filter-name"},[i("van-field",{attrs:{rows:"1",autosize:"",label:"商品名称",type:"textarea",placeholder:"请输入筛选名称"},model:{value:t.filterMsg,callback:function(e){t.filterMsg=e},expression:"filterMsg"}})],1),i("div",{staticClass:"filter-btn"},[i("div",{staticClass:"con-button",on:{click:t.yesBtn}},[t._v(" 确定 ")]),i("div",{staticClass:"can-button",on:{click:t.canBtn}},[t._v(" 取消 ")])])])],1)])},q=[],M=(i("c975"),i("a909"),i("3acc")),K=(i("3c32"),i("417e")),P={data:function(){return{show:!1,filterMsg:"",list:[],baselist:[],checkList:[],flag:!0,flowType:this.$route.query.flowType}},components:{Checkbox:K["a"],CheckboxGroup:M["a"]},filters:{filterType:function(t){var e=JSON.parse(window.sessionStorage.getItem("DICT-GoodsType")),i="";return e.forEach((function(e){t!=e.dictValue||(i=e.dictName)})),i},filterType2:function(t){var e=JSON.parse(window.sessionStorage.getItem("DICT-GoodsUnit")),i="";return e.forEach((function(e){t!=e.dictValue||(i=e.dictName)})),i}},mounted:function(){this.getDefList()},methods:{checkAll:function(){if(this.flag)return this.$refs.checkboxGroup.toggleAll(!0),void(this.flag=!1);!1===this.flag&&(this.$refs.checkboxGroup.toggleAll(),this.flag=!0)},cancelBtn:function(){this.checkList=[]},filterBtn:function(){this.show=!0},canBtn:function(){this.show=!1},yesBtn:function(){var t=this;if(""==this.filterMsg)return this.list=this.baselist,void(this.show=!1);this.list=[],this.baselist.forEach((function(e){e.goodsName.indexOf(t.filterMsg)>-1&&t.list.push(e)})),this.show=!1},getDefList:function(){var t=this,e={deptCode:window.sessionStorage.getItem("USER-DEPT"),listType:this.flowType,page:0,size:0};this.$http("/api/gooDefListList",e).then((function(e){t.list=e.rows,t.baselist=e.rows}))},sureGoodBtn:function(){if("0"==this.flowType||"1"==this.flowType||"2"==this.flowType||"3"==this.flowType||"4"==this.flowType||"5"==this.flowType){var t=JSON.stringify(this.checkList);this.$router.push({path:"/items-for",query:{checkList:t,flowType:this.flowType,buytime:this.$route.query.buytime}})}else{var e=JSON.stringify(this.checkList);this.$router.push({path:"/entry-goods",query:{checkList:e,flowType:this.flowType}})}},onClickLeft:function(){this.$router.back(-1)},onClickRight:function(){this.$router.push({path:"/index"})}}},F=P,V=(i("1512"),Object(k["a"])(F,j,q,!1,null,"02bebfbe",null)),Y=V.exports,Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"领用信息","left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),i("div",{staticClass:"goods-out"},[t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"left"},[i("div",{staticClass:"number"},[t._v(t._s(e.goodsCode))]),i("div",{staticClass:"item"},[t._v("产品名称："+t._s(e.goodsName))]),i("div",{staticClass:"item"},[t._v("产品规格："+t._s(t._f("filterType")(e.goodsUnit)))]),i("div",{staticClass:"item"},[t._v("产品数量："+t._s(e.goodsNum))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"round",on:{click:t.hadleDetail}})])])})),i("goods-add")],2)],1)},H=[],X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"goods--add"},[t._v(" + ")])},z=[],$={data:function(){return{}}},W=$,tt=(i("70a0"),Object(k["a"])(W,X,z,!1,null,"f41dc46a",null)),et=tt.exports,it={data:function(){return{list:[]}},components:{GoodsAdd:et},filters:{filterType:function(t){return"1"===t?"本":"2"===t?"个":"3"===t?"件":"4"===t?"盒":"5"===t?"张":void 0}},created:function(){},mounted:function(){this.$route.query.doneDetaillist.length>0&&(this.list=this.$route.query.doneDetaillist)},methods:{onClickLeft:function(){this.$router.back(-1)},onClickRight:function(){this.$router.push({path:"/index"})}}},st=it,at=(i("cc61"),Object(k["a"])(st,Z,H,!1,null,"3d4d7d97",null)),nt=at.exports,ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"物资详情","left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),i("div",{staticClass:"prod-content"},[i("div",{staticClass:"titile"},[t._v("产品明细：")]),t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"left"},[i("div",{staticClass:"item"},[t._v("名称："+t._s(e.goodsName))]),i("div",{staticClass:"item center"},[t._v(" 规格： "),"0"==t.edit||"1"!=t.cane?i("div",{staticClass:"specifications"},[t._v(" "+t._s(e.goodsNum)+" ")]):t._e(),"1"==t.edit&&"1"==t.cane?i("div",{staticClass:"specifications"},[i("van-stepper",{attrs:{min:"0","button-size":"19px","async-change":"",disabled:t.num_isDisabled},on:{change:function(e){return t.countChange(e)}},model:{value:e.goodsNum,callback:function(i){t.$set(e,"goodsNum",t._n(i))},expression:"item.goodsNum"}})],1):t._e(),t._v(" "+t._s(e.goodsUnitDesc)+" ")])]),i("div",{staticClass:"right"})])}))],2),"1"==t.edit&&"1"==t.cane?i("div",{staticClass:"prod-content"},[i("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:function(e){return t.updateGns()}}},[t._v("修改产品数量")])],1):t._e(),i("div",{staticClass:"prod-content"},[i("div",{staticClass:"titile"},[t._v("审批意见：")]),t._l(t.listHis,(function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"left"},[i("div",{staticClass:"number"},[t._v("审批人："+t._s(e.approvalUserName)+" ["+t._s(e.approvalUser)+"]")]),i("div",{staticClass:"number"},[t._v("审批岗位："+t._s(e.postName)+" ["+t._s(e.postCode)+"]")]),i("div",{staticClass:"number"},[t._v("审批结果："+t._s(t._f("filterType3")(e.approvalResult)))]),i("div",{staticClass:"item"},[t._v("审批意见："+t._s(e.comments))]),i("div",{staticClass:"item"},[t._v("审批时间："+t._s(e.approvalTime))])]),i("div",{staticClass:"right"})])}))],2)],1)},rt=[],ct={data:function(){return{cane:this.$route.query.cane,edit:window.sessionStorage.getItem("USER-EDIT"),item:this.$route.query.item,applyId:this.$route.query.item.applyId,list:[],listHis:[],pathFlag:this.$route.query.pathFlag,num_isDisabled:!1}},mounted:function(){this.getList(),this.getHisList()},filters:{filterType3:function(t){return"0"==t?"进行中":"1"==t?"通过":"2"==t?"拒绝":"9"==t?"结束":void 0}},methods:{getList:function(){var t=this,e={applyId:this.applyId,page:0,size:0};this.$http("/api/appDetailList",e).then((function(e){var i=e.rows,s=JSON.parse(window.sessionStorage.getItem("DICT-GoodsUnit"));i.forEach((function(t){s.forEach((function(e){e["dictValue"]==t.goodsUnit&&(t["goodsUnitDesc"]=e["dictName"])}))})),t.list=i}))},getHisList:function(){var t=this,e={applyId:this.applyId};this.$http("/api/appHistoryList",e).then((function(e){e.rows.length>0?t.listHis=e.rows:t.listHis=[]}))},updateGns:function(){var t=this,e={applyId:this.applyId,goods:this.list};this.$http("/api/apprModGoodNum",e).then((function(e){"000000"==e.rscode?(t.cane="0",t.message="修改成功"):m["a"].fail({message:e.rsmsg})})).catch((function(t){}))},countChange:function(t){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.list.map((function(t,e){var i=t.goodsNum;if(t.goodsNum<0)return m["a"].fail({message:"数量不能小于0"}),void(t.goodsNum=i+1)}))}),0)},onClickLeft:function(){"1"==this.pathFlag?this.$router.push({path:"/todo-detail",query:{row:this.item}}):"2"==this.pathFlag&&this.$router.push({path:"/dealt-done",query:{row:this.item}})},onClickRight:function(){this.$router.push({path:"/index"})}}},lt=ct,ut=(i("5600"),Object(k["a"])(lt,ot,rt,!1,null,"2c5d469e",null)),dt=ut.exports,ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),i("div",{staticClass:"mod-config"},[i("van-tabs",{on:{click:t.onClick},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("van-tab",{attrs:{title:"待办",name:"todo"}},[i("div",{staticClass:"goods-out"},[t.todoListNull?i("div",{staticClass:"norecord"},[t._v("无记录")]):t._e(),t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"left"},[i("div",{staticClass:"number"},[t._v("申请编号："+t._s(e.applyId))]),i("div",{staticClass:"number"},[t._v("申请部门："+t._s(e.odName)+" - "+t._s(t._f("filterType")(e.flowType)))]),i("div",{staticClass:"number"},[t._v("审批结果："+t._s(t._f("filterType3")(e.approvalResult)))]),i("div",{staticClass:"item"},[t._v("申请说明："+t._s(e.remarks))]),i("div",{staticClass:"item"},[t._v("申请时间："+t._s(e.createTime))]),i("div",{staticClass:"item"},[t._v("申请人："+t._s(e.applyUserName)+"["+t._s(e.createUser)+"] - "+t._s(e.createUserDeptName))]),i("div",{staticClass:"item"},[t._v(t._s(e.content))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"round"},[i("van-button",{attrs:{type:"primary"},on:{click:function(i){return t.hadleDetail(e,"1")}}},[t._v("详情")])],1),i("div",{staticClass:"round"},[i("van-button",{attrs:{type:"info"},on:{click:function(i){return t.hadleDone(e)}}},[t._v("审批")])],1)])])}))],2)]),i("van-tab",{attrs:{title:"已办",name:"done"}},[i("div",{staticClass:"goods-out"},[t.doneListNull?i("div",{staticClass:"norecord"},[t._v("无记录")]):t._e(),t._l(t.doneList,(function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"left"},[i("div",{staticClass:"number"},[t._v("申请编号："+t._s(e.applyId))]),i("div",{staticClass:"number"},[t._v("申请部门："+t._s(e.odName)+"-"+t._s(t._f("filterType")(e.flowType)))]),i("div",{staticClass:"number"},[t._v("审批结果："+t._s(t._f("filterType3")(e.approvalResult)))]),i("div",{staticClass:"item"},[t._v("申请说明："+t._s(e.remarks))]),i("div",{staticClass:"item"},[t._v("申请时间："+t._s(e.createTime))]),i("div",{staticClass:"item"},[t._v("申请人："+t._s(e.applyUserName)+"["+t._s(e.createUser)+"] - "+t._s(e.createUserDeptName))]),i("div",{staticClass:"item"},[t._v(t._s(e.content))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"round"},[i("van-button",{attrs:{type:"primary"},on:{click:function(i){return t.hadleDetail(e,"0")}}},[t._v("详情")])],1)])])}))],2)])],1),i("van-popup",{style:{height:"30%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",{staticClass:"appDiv"},[i("div",{staticClass:"appItem",on:{click:t.noBtn}},[t._v(" 领用审批不通过 ")]),i("div",{staticClass:"appItem itempass",on:{click:t.yesBtn}},[t._v(" 领用审批通过 ")]),i("div",{staticClass:"appItem",on:{click:t.canBtn}},[t._v(" 取消 ")])])]),i("van-dialog",{attrs:{title:"","show-cancel-button":"",beforeClose:t.chargeBtn},model:{value:t.show2,callback:function(e){t.show2=e},expression:"show2"}},[i("van-field",{attrs:{rows:"1",autosize:"",label:"理由",type:"textarea",placeholder:"请输入理由"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)],1),i("van-overlay",{attrs:{show:t.showLay,"z-index":"10000"},on:{click:function(e){t.show=!1}}},[i("div",{staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[i("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1)])],1)},pt=[],ft={components:{},data:function(){return{test_user:"",userId:"",active:1,show:!1,show2:!1,list:[],todoListNull:!1,doneList:[],doneListNull:!1,doneDetaillist:[],title:this.$route.query.title,item:{},message:"",userInfo:{},showLay:!1,row:this.$route.query.flowType}},mounted:function(){this.getUserInfo()},created:function(){var t=this;this.title=this.$route.query.text,this.list.forEach((function(e){t.row.id==e.id&&(e.goodsNum=t.row.goodsNum)}))},filters:{filterType:function(t){var e=JSON.parse(window.sessionStorage.getItem("DICT-FlowType")),i=t;return null!=e&&e.forEach((function(e){t!=e.dictValue||(i=e.dictName)})),i},filterType3:function(t){return"0"==t?"进行中":"1"==t?"通过":"2"==t?"拒绝":"9"==t?"结束":void 0}},methods:{getUserInfo:function(){var t=this;this.$http("/api/userInfo",{}).then((function(e){"000000"==e.rscode&&(t.userId=e.userId,t.getList())}))},hadleDone:function(t){this.item=t,this.show=!0},hadleDetail:function(t,e){this.$router.push({path:"/product-inventory",query:{item:t,pathFlag:"2",cane:e}})},handlerHistory:function(t){var e=t.applyId;this.$router.push({path:"/apply-history",query:{applyId:e}})},onClick:function(t){"todo"==t?this.getList():"done"==t&&this.getDoneList()},getList:function(){var t=this;this.todoListNull=!1;var e={page:0,size:0,userId:this.userId};this.list=[],this.$http("/api/applyTodo",e).then((function(e){"000000"==e.rscode&&e.rows.length>0?(t.list=e.rows,t.todoListNull=!1):t.todoListNull=!0}))},getDoneList:function(){var t=this;this.todoListNull=!1;var e={page:0,size:0,userId:this.userId};this.doneList=[],this.$http("/api/applyDone",e).then((function(e){"000000"==e.rscode&&e.rows.length>0?(t.doneList=e.rows,t.doneListNull=!1):t.doneListNull=!0}))},onClickLeft:function(){this.$router.push({path:"/index"})},onClickRight:function(){this.$router.push({path:"/index"})},noBtn:function(){this.show2=!0},yesBtn:function(){var t={applyId:this.item.applyId,approvalResult:"1"};this.done(t)},canBtn:function(){this.item={},this.show=!1},chargeBtn:function(t,e){if("cancel"===t)e(),this.show2=!1;else if("confirm"===t){this.show2=!1;var i={applyId:this.item.applyId,approvalResult:"2",comments:this.message};this.done(i)}this.message=""},done:function(t){var e=this;this.showLay=!0,this.$http("/api/applyAppr",t).then((function(t){"000000"==t.rscode&&(e.$toast.success({message:"审批完成"}),e.list=[],e.doneList=[],e.getList(),e.getDoneList()),e.showLay=!1,e.show=!1,e.show2=!1}),(function(t){e.showLay=!1,e.show=!1,e.show2=!1}))}}},gt=ft,mt=(i("1858"),Object(k["a"])(gt,ht,pt,!1,null,"c72c006c",null)),vt=mt.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"待办审批","left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),i("div",{staticClass:"goods-out"},[i("div",{staticClass:"list"},[i("div",{staticClass:"left"},[i("div",{staticClass:"number"},[t._v("申请编号："+t._s(t.item.applyId))]),i("div",{staticClass:"number"},[t._v("申请编号："+t._s(t.item.odName))]),i("div",{staticClass:"number"},[t._v("申请类型："+t._s(t.item.flowType)+"["+t._s(t.item.flowCode)+"]")]),i("div",{staticClass:"number"},[t._v("审批结果："+t._s(t.item.applyResult))]),i("div",{staticClass:"number"},[t._v("申请时间："+t._s(t.item.createTime))]),i("div",{staticClass:"item"},[t._v("申请人："+t._s(t.item.createUser))]),i("div",{staticClass:"item"},[t._v("申请产品："+t._s(t.item.content))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"round",on:{click:function(e){return t.hadleDetail(t.item)}}})])]),i("van-popup",{style:{height:"30%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",{staticClass:"appDiv"},[i("div",{staticClass:"appItem",on:{click:t.noBtn}},[t._v(" 领用审批不通过 ")]),i("div",{staticClass:"appItem",on:{click:t.yesBtn}},[t._v(" 领用审批通过 ")]),i("div",{staticClass:"appItem",on:{click:t.canBtn}},[t._v(" 取消 ")])])]),i("van-dialog",{attrs:{title:"","show-cancel-button":"",beforeClose:t.chargeBtn},model:{value:t.show2,callback:function(e){t.show2=e},expression:"show2"}},[i("van-field",{attrs:{rows:"1",autosize:"",label:"理由",type:"textarea",placeholder:"请输入理由"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)],1)],1)},yt=[],It={data:function(){return{item:this.$route.query.row,show:!0,show2:!1,message:"",doneDetaillist:[],userId:this.$route.query.userId,applyId:this.$route.query.applyId}},components:{},filters:{filterType:function(t){return"0001"===t?"本":"0002"===t?"个":"0003"===t?"件":"0004"===t?"盒":void 0}},mounted:function(){},methods:{noBtn:function(){this.show2=!0},yesBtn:function(){var t={applyId:this.item.applyId,applyResult:"1"};this.done(t)},canBtn:function(){this.show=!1},chargeBtn:function(t,e){if("cancel"===t)e(),this.show2=!1;else if("confirm"===t){this.show2=!1;var i={applyId:this.item.applyId,applyResult:"2",comments:this.message};this.done(i)}this.message=""},done:function(t){var e=this;this.$http("/api/applyAppr",t).then((function(t){"000000"==t.rscode&&(e.$toast.success({message:"审批完成"}),e.show=!1,e.show2=!1)}))},hadleDetail:function(){this.$router.push({path:"/product-inventory",query:{item:this.item,pathFlag:"1"}})},onClickLeft:function(){this.$router.push({path:"/dealt-done"})},onClickRight:function(){this.$router.push({path:"/index"})}}},wt=It,Et=(i("efd8"),Object(k["a"])(wt,Ct,yt,!1,null,"6fefa47c",null)),At=Et.exports,kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{"left-text":"返回","right-text":"首页",title:t.title,"left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),i("div",{staticClass:"goods-items-add"},[t._m(0),i("div",{staticClass:"item",staticStyle:{"margin-top":"5px"},on:{click:t.dateTime}},[i("div",{staticClass:"item-order"},[t._v(" 领用日期 ")]),i("div",{staticClass:"order-text"},[i("span",[t._v(t._s(t.buytime))]),i("span",{staticClass:"icon-arrow"})])]),i("div",{staticClass:"goods-content"},[i("div",{staticClass:"title"},[t._v("领用人")]),i("div",{staticClass:"ava",on:{click:t.personInforBtn}},[i("div",{staticClass:"ava-items"},[i("img",{attrs:{src:t.avatarUrl}})]),i("div",{staticClass:"ava-name"},[t._v(" "+t._s(t.userName)+" ")])])]),i("div",{staticClass:"item",staticStyle:{"margin-top":"5px"}},[i("van-field",{staticClass:"title",attrs:{label:"申请说明",required:!0},model:{value:t.remarks,callback:function(e){t.remarks=e},expression:"remarks"}})],1),t._m(1),i("div",{staticClass:"table",attrs:{data:t.list}},[t._m(2),t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"mumber"},[t._v(t._s(s+1))]),i("div",{staticClass:"name"},[t._v(t._s(e.goodsName))]),i("div",{staticClass:"specifications"},[t._v(t._s(t._f("filterType")(e.goodsUnit)))]),i("div",{staticClass:"specifications"},[t._v(t._s(e.goodsNum))])])}))],2),i("div",{staticClass:"footer",on:{click:t.submit}},[t._v(" 提交 ")]),i("van-popup",{style:{height:"50%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",[i("van-datetime-picker",{attrs:{type:"date",title:"选择年月日","min-date":t.minDate,"max-date":t.maxDate,formatter:t.formatter},on:{confirm:t.confirmTime,cancel:t.cancelTime},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1)])],1),i("van-overlay",{attrs:{show:t.showLay,"z-index":"10000"},on:{click:function(e){t.show=!1}}},[i("div",{staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[i("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1)])],1)},bt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item"},[i("div",{staticClass:"item-order"},[t._v(" 申请单号 ")]),i("div",{staticClass:"order-text"},[t._v(" 自动生成 ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item",staticStyle:{"margin-top":"5px"}},[i("div",{staticClass:"item-order"},[t._v(" 领用明细 ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"name"},[t._v("序号")]),i("div",{staticClass:"name"},[t._v("产品")]),i("div",{staticClass:"name"},[t._v("规格")]),i("div",{staticClass:"name"},[t._v("数量")])])}],Bt={data:function(){return{list:[],minDate:new Date(2020,0,1),maxDate:new Date(2025,10,1),currentDate:new Date,show:!1,buytime:"",tmonth:0,tmonth_str:"",tday:0,tday_str:"",flowType:this.$route.query.flowType,avatarUrl:"",userName:"",title:this.$route.query.title,showLay:!1,remarks:""}},created:function(){this.getCurDate()},mounted:function(){this.getList(),this.getApprovedBy()},filters:{filterType:function(t){var e=JSON.parse(window.sessionStorage.getItem("DICT-GoodsUnit")),i="";return e.forEach((function(e){t!=e.dictValue||(i=e.dictName)})),i}},methods:{getCurDate:function(){this.tmonth=this.currentDate.getMonth()+1,this.tmonth<10?this.tmonth_str="0"+this.tmonth:this.tmonth_str=this.tmonth,this.tday=this.currentDate.getDate(),this.tday<10?this.tday_str="0"+this.tday:this.tday_str=this.tday,this.buytime=this.currentDate.getFullYear()+"-"+this.tmonth_str+"-"+this.tday_str},getList:function(){var t=this,e={deptCode:window.sessionStorage.getItem("USER-DEPT"),listType:this.flowType,page:0,size:0};this.$http("/api/gooDefListList",e).then((function(e){e.rows.length>0&&(e.rows.forEach((function(t){t.goodsNum=1})),t.list=e.rows)}))},getApprovedBy:function(){var t=this,e=JSON.parse(window.sessionStorage.getItem("USER-INFO"));if(null==e){var i={};this.$http("/api/userInfo",i).then((function(e){t.avatarUrl=e.avatarUrl,t.userName=e.userName}))}else this.avatarUrl=e.avatarUrl,this.userName=e.userName},submit:function(){var t=this;if("undefined"!=typeof this.buytime&&""!=this.buytime)if("undefined"!=typeof this.list&&""!=this.list)if("undefined"!=typeof this.remarks&&""!=this.remarks){var e={applyUseDate:this.buytime,flowType:this.flowType,goods:this.list,remarks:this.remarks},i="",s="",a=JSON.parse(window.sessionStorage.getItem("USER-Limit"));a.forEach((function(e){var a=e.flowType;a==t.flowType&&(i=e.flowCode,s=e.deptCode)})),e.flowCode=i,e.deptCode=s,this.showLay=!0,this.$http("/api/appInfoAdd",e).then((function(e){"000000"==e.rscode&&(t.$toast.success({message:"申请成功"}),t.$router.push({path:"/index"})),t.showLay=!1}),(function(e){t.showLay=!1}))}else m["a"].fail({message:"申请说明不能为空"});else m["a"].fail({message:"申请产品不能为空"});else m["a"].fail({message:"日期不能为空"})},personInforBtn:function(){var t={};this.$http("/api/userInfo",t).then((function(t){}))},dateTime:function(){this.show=!0},confirmTime:function(){this.tmonth=this.currentDate.getMonth()+1,this.tmonth<10?this.tmonth_str="0"+this.tmonth:this.tmonth_str=this.tmonth,this.tday=this.currentDate.getDate(),this.tday<10?this.tday_str="0"+this.tday:this.tday_str=this.tday,this.buytime=this.currentDate.getFullYear()+"-"+this.tmonth_str+"-"+this.tday_str,this.show=!1},cancelTime:function(){this.show=!1},formatter:function(t,e){return"year"===t?"".concat(e,"年"):"month"===t?"".concat(e,"月"):"day"===t?"".concat(e,"日"):(console.log(e),e)},onClickLeft:function(){this.$router.back(-1)},onClickRight:function(){this.$router.push({path:"/index"})}}},xt=Bt,_t=(i("ee67"),Object(k["a"])(xt,kt,bt,!1,null,"319292d7",null)),St=_t.exports,Qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{"left-text":"返回","right-text":"首页",title:t.title,"left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),i("div",[i("van-tabs",{on:{click:t.onClick},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("van-tab",{attrs:{title:"审批中",name:"todo"}},[i("div",{staticClass:"goods-out"},[t.inListNull?i("div",{staticClass:"norecord"},[t._v("无记录")]):t._e(),t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"left"},[i("div",{staticClass:"number"},[t._v("申请编号："+t._s(e.id))]),i("div",{staticClass:"number"},[t._v("申请类型："+t._s(t._f("filterType")(e.flowType)))]),i("div",{staticClass:"number"},[t._v("审批结果："+t._s(t._f("filterType3")(e.applyResult)))]),i("div",{staticClass:"number"},[t._v("审批完成时间："+t._s(e.endTime))]),i("div",{staticClass:"number"},[t._v("申请时间："+t._s(e.applyUseDate))]),i("div",{staticClass:"item"},[t._v("领取状态："+t._s(t._f("filterType2")(e.receiveStatus)))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"round"},[i("van-button",{attrs:{type:"primary"},on:{click:function(i){return t.hadleDetail(e)}}},[t._v("详情")])],1)])])}))],2)]),i("van-tab",{attrs:{title:"审批完成",name:"done"}},[i("div",{staticClass:"goods-out"},[t.doneListNull?i("div",{staticClass:"norecord"},[t._v("无记录")]):t._e(),t._l(t.doneList,(function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"left"},[i("div",{staticClass:"number"},[t._v("申请编号："+t._s(e.id))]),i("div",{staticClass:"number"},[t._v("申请类型："+t._s(t._f("filterType")(e.flowType)))]),i("div",{staticClass:"number"},[t._v("审批结果："+t._s(t._f("filterType3")(e.applyResult)))]),i("div",{staticClass:"number"},[t._v("审批完成时间："+t._s(e.endTime))]),i("div",{staticClass:"number"},[t._v("申请时间："+t._s(e.applyUseDate))]),i("div",{staticClass:"item"},[t._v("领取状态："+t._s(t._f("filterType2")(e.receiveStatus,e.applyResult)))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"round",on:{click:function(i){return t.hadleDetail(e)}}},[i("van-button",{attrs:{type:"primary"}},[t._v("详情")])],1),e.cantake?i("div",{staticClass:"round",on:{click:function(i){return t.handlerTake(e)}}},[i("van-button",{attrs:{type:"info"}},[t._v("领取")])],1):t._e()])])}))],2)])],1)],1),i("van-overlay",{attrs:{show:t.showLay},on:{click:function(e){t.show=!1}}},[i("div",{staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[i("van-loading",{attrs:{type:"spinner",color:"#1989fa",size:"30"}})],1)])],1)},Tt=[],Lt={components:{},data:function(){return{active:1,list:[],inListNull:!1,doneList:[],doneListNull:!1,userId:"",title:this.$route.query.title,message:"",loginInfo:{},showLay:!1,cantake:!0,wht:""}},watch:{active:function(t){switch(t){case 0:this.onClick("todo");break;case 1:this.onClick("done");break}}},mounted:function(){this.getList()},created:function(){this.title=this.$route.query.text,this.wht=this.$route.query.wht,this.loginInfo=window.sessionStorage.getItem("USER-INFO"),"done"==this.wht&&(this.active=1)},filters:{filterType:function(t){var e=JSON.parse(window.sessionStorage.getItem("DICT-FlowType")),i="";return e.forEach((function(e){t!=e.dictValue||(i=e.dictName)})),i},filterType2:function(t,e){return"0"==t?"2"==e?"不可领取":"未领取":"1"==t?"已领取":"2"==t?"无":void 0},filterType3:function(t){return"0"==t?"进行中":"1"==t?"通过":"2"==t?"拒绝":"9"==t?"结束":void 0}},methods:{hadleDetail:function(t){this.$router.push({path:"/apply-detail",query:{row:t}})},handlerHistory:function(t){var e=t.id;this.$router.push({path:"/apply-history",query:{applyId:e}})},onClick:function(t){"todo"==t?this.getList():"done"==t&&this.getDoneList()},getList:function(){var t=this;this.inListNull=!1;var e={page:0,size:0,userId:this.loginInfo.userId};this.$http("/api/myInAppr",e).then((function(e){"000000"==e.rscode&&e.rows.length>0?(console.log("getList"),t.list=e.rows,t.inListNull=!1):t.inListNull=!0}))},getDoneList:function(){var t=this;this.doneListNull=!1;var e={page:0,size:0,userId:""};this.$http("/api/myApprCompl",e).then((function(e){"000000"==e.rscode&&e.rows.length>0?(console.log("getDoneList"),e.rows.forEach((function(t){"2"==t.applyResult||"1"==t.receiveStatus||"2"==t.receiveStatus?t.cantake=!1:t.cantake=!0})),t.doneList=e.rows,t.doneListNull=!1):t.doneListNull=!0}))},handlerTake:function(t){var e=this;this.showLay=!0;var i={page:0,size:0,applyId:t.id,applyUser:"me"};this.$http("/api/goodsTakeOut",i).then((function(t){"000000"==t.rscode?(e.$toast.success({message:"领取成功"}),e.showLay=!1,console.log("handlerTake"),e.getList(),e.getDoneList()):e.doneListNull=!0}),(function(t){e.showLay=!1}))},onClickLeft:function(){this.$router.back(-1)},onClickRight:function(){this.$router.push({path:"/index"})}}},Nt=Lt,Dt=(i("8f67"),Object(k["a"])(Nt,Qt,Tt,!1,null,"48201102",null)),Rt=Dt.exports,Ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"申请详情","left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),i("div",{staticClass:"goods-out"},[i("div",{staticClass:"titile"},[t._v("产品明细：")]),t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"left"},[i("div",{staticClass:"item"},[t._v("名称："+t._s(e.goodsName))]),i("div",{staticClass:"item"},[t._v("规格："+t._s(e.goodsNum)+" "+t._s(e.goodsUnitDesc))])]),i("div",{staticClass:"right"})])}))],2),i("div",{staticClass:"goods-out"},[i("div",{staticClass:"titile"},[t._v("审批意见：")]),t._l(t.listHis,(function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"left"},[i("div",{staticClass:"number"},[t._v("审批人："+t._s(e.approvalUserName)+" ["+t._s(e.approvalUser)+"]")]),i("div",{staticClass:"number"},[t._v("审批岗位："+t._s(e.postName)+" ["+t._s(e.postCode)+"]")]),i("div",{staticClass:"number"},[t._v("审批结果："+t._s(t._f("filterType3")(e.approvalResult)))]),i("div",{staticClass:"item"},[t._v("审批意见："+t._s(e.comments))]),i("div",{staticClass:"item"},[t._v("审批时间："+t._s(e.approvalTime))])]),i("div",{staticClass:"right"})])}))],2)],1)},Ot=[],Gt={data:function(){return{list:[],listHis:[],applyId:this.$route.query.row.id}},components:{GoodsAdd:et},filters:{filterType3:function(t){return"0"==t?"进行中":"1"==t?"通过":"2"==t?"拒绝":"9"==t?"结束":void 0}},mounted:function(){this.getList(),this.getHisList()},methods:{getList:function(){var t=this,e={applyId:this.$route.query.row.id};this.$http("/api/appDetailList",e).then((function(e){if(e.rows.length>0){var i=e.rows,s=JSON.parse(window.sessionStorage.getItem("DICT-GoodsUnit"));i.forEach((function(t){s.forEach((function(e){e["dictValue"]==t.goodsUnit&&(t["goodsUnitDesc"]=e["dictName"])}))})),t.list=i}}))},getHisList:function(){var t=this,e={applyId:this.$route.query.row.id};this.$http("/api/appHistoryList",e).then((function(e){e.rows.length>0?t.listHis=e.rows:t.listHis=[]}))},onClickLeft:function(){this.$router.back(-1)},onClickRight:function(){this.$router.push({path:"/index"})}}},Jt=Gt,jt=(i("6b21"),Object(k["a"])(Jt,Ut,Ot,!1,null,"299b7f34",null)),qt=jt.exports,Mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-form",{staticStyle:{"margin-top":"30px"},on:{submit:t.getLogin}})],1)},Kt=[],Pt=i("bc3a"),Ft=i.n(Pt),Vt={data:function(){return{code:"",passwd:"123456",userId:""}},created:function(){window.sessionStorage.clear(),this.getDict("GoodsUnit"),this.getDict("GoodsType"),this.getDict("FlowType"),this.authLogin()},methods:{authLogin:function(){var t=window.location.origin,e="https://mx.chinajinmao.cn/connect/oauth2/authorize",i=t+"%2f%23%2flogin",s="wlc05e0c1485",a="1000319",n=e+"?appid="+s+"&redirect_uri="+i+"&response_type=code&scope=SCOPE&agentid="+a+"&state=state#wechat_redirect";window.location.href=n},getLogin:function(){var t=this;this.$http("/service/welogin",{code:"---",userId:this.userId,passwd:this.passwd}).then((function(e){e&&(window.sessionStorage.setItem("TOKEN_KEY",e.token),t.$router.push({path:"/index",query:{}}))}))},getDict:function(t){var e=JSON.parse(window.sessionStorage.getItem("DICT-"+t));null==e&&this.$http("/api/sysDictionaryList",{groupCode:t}).then((function(e){"000000"==e.rscode&&window.sessionStorage.setItem("DICT-"+t,JSON.stringify(e.rows))}))}}},Yt=Vt,Zt=(i("4e0d"),Object(k["a"])(Yt,Mt,Kt,!1,null,null,null)),Ht=Zt.exports,Xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-form",{staticStyle:{"margin-top":"30px"},on:{submit:t.getLogin}},[i("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}}),i("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:t.passwd,callback:function(e){t.passwd=e},expression:"passwd"}}),i("div",{staticStyle:{margin:"16px"}},[i("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("模拟用户名登录")]),i("div")],1)],1)],1)},zt=[],$t={data:function(){return{code:"",passwd:"123456",userId:""}},created:function(){window.sessionStorage.clear(),this.getDict("GoodsUnit"),this.getDict("GoodsType"),this.getDict("FlowType")},methods:{getLogin:function(){var t=this;this.$http("/service/welogin",{code:"---",userId:this.userId,passwd:this.passwd}).then((function(e){e&&(window.sessionStorage.setItem("TOKEN_KEY",e.token),t.$router.push({path:"/index",query:{}}))}))},getDict:function(t){var e=JSON.parse(window.sessionStorage.getItem("DICT-"+t));null==e&&this.$http("/api/sysDictionaryList",{groupCode:t}).then((function(e){"000000"==e.rscode&&window.sessionStorage.setItem("DICT-"+t,JSON.stringify(e.rows))}))}}},Wt=$t,te=(i("db1c"),Object(k["a"])(Wt,Xt,zt,!1,null,null,null)),ee=te.exports,ie=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"text-align":"center"}},[t._v(" 登录中...请稍等 ")])},se=[],ae=(i("ac1f"),i("841c"),i("1276"),{data:function(){return{code:""}},created:function(){window.sessionStorage.clear(),this.getDict("GoodsUnit"),this.getDict("GoodsType"),this.getDict("FlowType"),this.getLogin()},methods:{getLogin:function(){var t=this,e=this.getQueryVariable("code"),i=this.getQueryVariable("state");this.code=e,this.$http("/service/welogin2?code="+e,{},"GET").then((function(e){if(e)if(window.sessionStorage.setItem("TOKEN_KEY",e.token),window.sessionStorage.setItem("USER-DEPT",e.deptCode),window.sessionStorage.setItem("USER-EDIT",e.editLimit),"A"==i.charAt(0)){var s=i.substr(1);t.$router.push({path:"/dealt-done",query:{id:s}})}else"T"==i.charAt(0)?t.$router.push({path:"/my-apply",query:{wht:"done"}}):t.$router.push({path:"/index",query:{}})}))},getQueryVariable:function(t){var e=window.location.search.substring(1),i=window.location.hash.substring(8);""==e&&(e=i);for(var s=e.split("&"),a=0;a<s.length;a++){var n=s[a].split("=");if(n[0]==t)return n[1]}return""},getDict:function(t){var e=JSON.parse(window.sessionStorage.getItem("DICT-"+t));null==e&&this.$http("/api/sysDictionaryList",{groupCode:t}).then((function(e){"000000"==e.rscode&&window.sessionStorage.setItem("DICT-"+t,JSON.stringify(e.rows))}))}}}),ne=ae,oe=Object(k["a"])(ne,ie,se,!1,null,null,null),re=oe.exports,ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index-body"})},le=[],ue={components:{},data:function(){return{}},mounted:function(){this.logout()},methods:{logout:function(){var t=this;this.$http("/service/logout",{},"GET").then((function(e){"000000"==e.rscode&&(window.sessionStorage.removeItem("TOKEN_KEY"),window.sessionStorage.clear(),t.$router.push({path:"/auth",query:{}}))}))}}},de=ue,he=Object(k["a"])(de,ce,le,!1,null,null,null),pe=he.exports,fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"审批历史","left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),i("div",{staticClass:"goods-out"},t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"left"},[i("div",{staticClass:"number"},[t._v("审批人："+t._s(e.approvalUser))]),i("div",{staticClass:"item"},[t._v("审批岗位："+t._s(e.postCode))]),i("div",{staticClass:"number"},[t._v("审批结果："+t._s(t._f("filterType3")(e.approvalResult)))]),i("div",{staticClass:"item"},[t._v("审批意见："+t._s(e.comments))]),i("div",{staticClass:"item"},[t._v("审批时间："+t._s(e.approvalTime))])]),i("div",{staticClass:"right"})])})),0)],1)},ge=[],me={data:function(){return{list:[],applyId:this.$route.query.applyId}},components:{},filters:{filterType:function(t){return"1"===t?"本":"2"===t?"个":"3"===t?"件":"4"===t?"盒":"5"===t?"张":void 0},filterType3:function(t){return"0"==t?"进行中":"1"==t?"通过":"2"==t?"拒绝":"9"==t?"结束":void 0}},mounted:function(){this.getList()},methods:{getList:function(){var t=this,e={applyId:this.$route.query.applyId};this.$http("/api/appHistoryList",e).then((function(e){console.log(e),e.rows.length>0?t.list=e.rows:t.list=[]}))},onClickLeft:function(){this.$router.back(-1)},onClickRight:function(){this.$router.push({path:"/index"})}}},ve=me,Ce=(i("0cbf"),Object(k["a"])(ve,fe,ge,!1,null,"698d86cb",null)),ye=Ce.exports;y["a"].use(x["a"]);var Ie=new x["a"]({routes:[{path:"/",component:Ht},{path:"/auth",component:Ht,meta:{title:"授权"}},{path:"/auth2",component:ee,meta:{title:"授权"}},{path:"/login",component:re,meta:{title:"登录"}},{path:"/index",component:N,meta:{title:"首页"}},{path:"/items-for",component:J,meta:{title:"添加"}},{path:"/select-Items",component:Y,meta:{title:"选择物品"}},{path:"/goods-outbound",component:nt,meta:{title:"办公用品领用"}},{path:"/product-inventory",component:dt,meta:{title:"产品库存"}},{path:"/dealt-done",component:vt,meta:{title:"待办/已办"}},{path:"/todo-detail",component:At,meta:{title:"待办详情"}},{path:"/entry-goods",component:St,meta:{title:"新员工入职物质领用"}},{path:"/my-apply",component:Rt,meta:{title:"我的申请"}},{path:"/apply-detail",component:qt,meta:{title:"申请明细"}},{path:"/logout",component:pe,meta:{title:"退出"}},{path:"/apply-history",component:ye,meta:{title:"审批历史"}}]});Ie.beforeEach((function(t,e,i){t.meta.title&&(document.title=t.meta.title),i()}));var we=Ie,Ee=(i("d1bd"),i("fe3c")),Ae=i.n(Ee);i("d3b7"),i("c2d8");y["a"].use(m["a"]);var ke="000000",be="999999";function Be(t,e,i){var s=this,a="/goodsmanager";return new Promise((function(n,o){Ft()({method:i||"post",url:a+t,data:e}).then((function(t){t.data.rscode===ke?n(t.data):t.data.rscode===be?s.$router.push("/auth"):(m["a"].fail({message:t.data.rsmsg}),o(t.data))})).catch((function(t){m["a"].fail("服务器异常"),o(t.data)}))}))}y["a"].use(C["a"]),y["a"].use(v["a"]),y["a"].use(m["a"]),y["a"].use(g["a"]),y["a"].use(f["a"]),y["a"].use(p["a"]),y["a"].use(h["a"]),y["a"].use(d["a"]),y["a"].use(u["a"]),y["a"].use(l["a"]),y["a"].use(c["a"]),y["a"].use(r["a"]),y["a"].use(g["a"]),y["a"].use(o["a"]),y["a"].use(n["a"]),y["a"].use(a["a"]),y["a"].use(s["a"]),y["a"].prototype.$Toast=m["a"],y["a"].config.productionTip=!1,y["a"].prototype.$http=Be,Ae.a.attach(document.body),new y["a"]({render:function(t){return t(B)},router:we}).$mount("#app")},"6b21":function(t,e,i){"use strict";i("0e83")},"6ff9":function(t,e,i){"use strict";i("0eca")},"70a0":function(t,e,i){"use strict";i("bdbd")},7945:function(t,e,i){},"7dbb":function(t,e,i){},"8f67":function(t,e,i){"use strict";i("4504")},a072:function(t,e,i){t.exports=i.p+"static/img/xinyuangongwuzi.png"},a077:function(t,e,i){t.exports=i.p+"static/img/lingxing.png"},bdbd:function(t,e,i){},c18d:function(t,e,i){},c457:function(t,e){t.exports="data:image/png;base64,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"},cc61:function(t,e,i){"use strict";i("e12a")},d1bd:function(t,e,i){},d7a8:function(t,e,i){t.exports=i.p+"static/img/giftBuy.png"},db1c:function(t,e,i){"use strict";i("7945")},e12a:function(t,e,i){},e93d:function(t,e,i){"use strict";i("c18d")},ea4d:function(t,e,i){},eafe:function(t,e,i){t.exports=i.p+"static/img/gift.png"},ee67:function(t,e,i){"use strict";i("1af3")},efd8:function(t,e,i){"use strict";i("29be")},f388:function(t,e,i){t.exports=i.p+"static/img/myApply.png"},f8ed:function(t,e,i){}});